[gd_scene load_steps=29 format=2]

[ext_resource path="res://player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://HUD/HealthUI.tscn" type="PackedScene" id=2]
[ext_resource path="res://den/Den.tscn" type="PackedScene" id=3]
[ext_resource path="res://harvester/Harvester.tscn" type="PackedScene" id=4]
[ext_resource path="res://hunter/Hunter.tscn" type="PackedScene" id=5]
[ext_resource path="res://Game.gd" type="Script" id=6]
[ext_resource path="res://doghouse-01.png" type="Texture" id=7]
[ext_resource path="res://menus/Intro.tscn" type="PackedScene" id=8]
[ext_resource path="res://fence across.png" type="Texture" id=9]
[ext_resource path="res://dirt field.png" type="Texture" id=10]
[ext_resource path="res://menus/Settings.tscn" type="PackedScene" id=11]
[ext_resource path="res://menus/MainMenu.tscn" type="PackedScene" id=12]
[ext_resource path="res://menus/GameOver.tscn" type="PackedScene" id=13]
[ext_resource path="res://bgmusic.wav" type="AudioStream" id=14]
[ext_resource path="res://HUD/ScoreUI.tscn" type="PackedScene" id=15]
[ext_resource path="res://vertical fence.png" type="Texture" id=16]
[ext_resource path="res://doghouse-03.png" type="Texture" id=17]
[ext_resource path="res://doghouse-02.png" type="Texture" id=18]
[ext_resource path="res://random filler rocks.png" type="Texture" id=19]
[ext_resource path="res://HUD/PowerupUI.tscn" type="PackedScene" id=20]

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 1866.25, 68.25 )

[sub_resource type="RectangleShape2D" id=9]
extents = Vector2( 82.75, 1389.5 )

[sub_resource type="RectangleShape2D" id=10]
extents = Vector2( 79.5, 1389.5 )

[sub_resource type="RectangleShape2D" id=11]
extents = Vector2( 1867.75, 68.75 )

[sub_resource type="Curve2D" id=5]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 555, 247, 0, 0, 0, 0, 555, 2898, 0, 0, 0, 0, 847, 2901, 0, 0, 0, 0, 842, 246, 0, 0, 0, 0, 1112, 249, 0, 0, 0, 0, 1109, 2897, 0, 0, 0, 0, 1388, 2903, 0, 0, 0, 0, 1385, 243, 0, 0, 0, 0, 1668, 249, 0, 0, 0, 0, 1664, 2900, 0, 0, 0, 0, 1947, 2900, 0, 0, 0, 0, 1944, 243, 0, 0, 0, 0, 2223, 240, 0, 0, 0, 0, 2220, 2900, 0, 0, 0, 0, 2499, 2897, 0, 0, 0, 0, 2496, 240, 0, 0, 0, 0, 2782, 237, 0, 0, 0, 0, 2779, 2900, 0, 0, 0, 0, 3058, 2900, 0, 0, 0, 0, 3055, 237 )
}

[sub_resource type="Animation" id=6]
resource_name = "New Anim"
length = 60.0
loop = true
step = 30.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 30, 60 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0, 0.0 ]
}

[sub_resource type="Animation" id=7]
resource_name = "New Anim"
length = 60.0
loop = true
step = 30.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 30, 60 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0, 0.0 ]
}

[sub_resource type="CircleShape2D" id=4]
radius = 24.0

[node name="Game" type="Node2D"]
script = ExtResource( 6 )

[node name="Menus" type="CanvasLayer" parent="."]

[node name="MainMenu" parent="Menus" instance=ExtResource( 12 )]
pause_mode = 2
visible = false

[node name="GameOver" parent="Menus" instance=ExtResource( 13 )]
pause_mode = 2
visible = false

[node name="Settings" parent="Menus" instance=ExtResource( 11 )]
pause_mode = 2
visible = false

[node name="Intro" parent="Menus" instance=ExtResource( 8 )]
pause_mode = 2
visible = false

[node name="PlayScreen" type="Node2D" parent="."]

[node name="Field" type="Node2D" parent="PlayScreen"]

[node name="Sprite" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 1900, 1599 )
texture = ExtResource( 10 )
region_enabled = true
region_rect = Rect2( 0, 0, 5000, 5060 )

[node name="TopFence" type="StaticBody2D" parent="PlayScreen/Field"]
collision_layer = 16
collision_mask = 0

[node name="Sprite" type="Sprite" parent="PlayScreen/Field/TopFence"]
position = Vector2( 1900, 218 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 9 )
region_enabled = true
region_rect = Rect2( 26, 182, 37659, 1572 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/Field/TopFence"]
position = Vector2( 1894.75, 208.75 )
shape = SubResource( 8 )

[node name="LeftFence" type="StaticBody2D" parent="PlayScreen/Field"]
collision_layer = 16
collision_mask = 0

[node name="Sprite" type="Sprite" parent="PlayScreen/Field/LeftFence"]
position = Vector2( 103, 1602 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 16 )
region_enabled = true
region_rect = Rect2( 28, 12, 2732, 27905 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/Field/LeftFence"]
position = Vector2( 97.25, 1596.5 )
shape = SubResource( 9 )

[node name="RightFence" type="StaticBody2D" parent="PlayScreen/Field"]
collision_layer = 16
collision_mask = 0

[node name="Sprite" type="Sprite" parent="PlayScreen/Field/RightFence"]
position = Vector2( 3691, 1604 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 16 )
region_enabled = true
region_rect = Rect2( 28, 12, 2732, 27905 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/Field/RightFence"]
position = Vector2( 3686.5, 1598.5 )
shape = SubResource( 10 )

[node name="BottomFence" type="StaticBody2D" parent="PlayScreen/Field"]
collision_layer = 16
collision_mask = 0

[node name="Sprite" type="Sprite" parent="PlayScreen/Field/BottomFence"]
position = Vector2( 1900, 3006 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 9 )
region_enabled = true
region_rect = Rect2( 26, 182, 37659, 1572 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/Field/BottomFence"]
position = Vector2( 1894.25, 2996.25 )
shape = SubResource( 11 )

[node name="Doghouse" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 434, 536 )
scale = Vector2( -0.5, 0.5 )
texture = ExtResource( 7 )

[node name="Doghouse2" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 3358, 537 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 18 )

[node name="Doghouse3" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 412, 2520 )
scale = Vector2( -0.5, 0.5 )
texture = ExtResource( 17 )

[node name="Rocks" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 658, 1423.5 )
scale = Vector2( -0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Rocks2" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 2210, 1704 )
scale = Vector2( -0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Rocks3" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 3082, 2520 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Rocks4" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 2570, 664 )
scale = Vector2( -0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Rocks5" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 1190, 2384 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Rocks6" type="Sprite" parent="PlayScreen/Field"]
position = Vector2( 1530, 1004 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 19 )

[node name="Player" parent="PlayScreen" instance=ExtResource( 1 )]
position = Vector2( 2529, 2390 )

[node name="Den" parent="PlayScreen" instance=ExtResource( 3 )]
position = Vector2( 2752, 2282 )

[node name="Harvester" parent="PlayScreen" instance=ExtResource( 4 )]
position = Vector2( 2220.62, 2348.06 )
player_path = NodePath("../Player")
path_path = NodePath("../HarvesterPath")

[node name="HarvesterPath" type="Path2D" parent="PlayScreen"]
position = Vector2( 55.0264, 275.092 )
scale = Vector2( 1.02157, 0.847712 )
curve = SubResource( 5 )

[node name="PathFollow2D" type="PathFollow2D" parent="PlayScreen/HarvesterPath"]
position = Vector2( 555, 247 )
rotate = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayScreen/HarvesterPath/PathFollow2D"]
autoplay = "New Anim"
playback_process_mode = 0
playback_speed = 0.2
"anims/New Anim" = SubResource( 6 )

[node name="Harvester2" parent="PlayScreen" instance=ExtResource( 4 )]
position = Vector2( 3016.24, 1467.94 )
player_path = NodePath("../Player")
path_path = NodePath("../HarvesterPath2")

[node name="HarvesterPath2" type="Path2D" parent="PlayScreen"]
position = Vector2( 257.922, 3088.59 )
rotation = -1.57108
scale = Vector2( 0.823376, 1.0415 )
curve = SubResource( 5 )

[node name="PathFollow2D" type="PathFollow2D" parent="PlayScreen/HarvesterPath2"]
position = Vector2( 2220.81, 2179.96 )
offset = 19529.6
rotate = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayScreen/HarvesterPath2/PathFollow2D"]
autoplay = "New Anim"
playback_process_mode = 0
playback_speed = 0.2
"anims/New Anim" = SubResource( 7 )

[node name="Hunter" parent="PlayScreen" instance=ExtResource( 5 )]
position = Vector2( 408, 860 )
speed = 100
player_path = NodePath("../Player")
home_path = NodePath("../HunterHome")

[node name="HunterHome" type="Position2D" parent="PlayScreen"]
position = Vector2( 408, 860 )

[node name="Area2D" type="Area2D" parent="PlayScreen/HunterHome"]
collision_layer = 32
collision_mask = 0
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/HunterHome/Area2D"]
shape = SubResource( 4 )

[node name="Hunter2" parent="PlayScreen" instance=ExtResource( 5 )]
position = Vector2( 480, 2822 )
speed = 100
player_path = NodePath("../Player")
home_path = NodePath("../HunterHome2")

[node name="HunterHome2" type="Position2D" parent="PlayScreen"]
position = Vector2( 480, 2822 )

[node name="Area2D" type="Area2D" parent="PlayScreen/HunterHome2"]
collision_layer = 32
collision_mask = 0
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/HunterHome2/Area2D"]
shape = SubResource( 4 )

[node name="Hunter3" parent="PlayScreen" instance=ExtResource( 5 )]
position = Vector2( 3349, 866 )
speed = 100
player_path = NodePath("../Player")
home_path = NodePath("../HunterHome3")

[node name="HunterHome3" type="Position2D" parent="PlayScreen"]
position = Vector2( 3349, 866 )

[node name="Area2D" type="Area2D" parent="PlayScreen/HunterHome3"]
collision_layer = 32
collision_mask = 0
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayScreen/HunterHome3/Area2D"]
shape = SubResource( 4 )

[node name="VegetableSpawnTimer" type="Timer" parent="PlayScreen"]
autostart = true

[node name="HUD" type="CanvasLayer" parent="PlayScreen"]

[node name="HealthUI" parent="PlayScreen/HUD" instance=ExtResource( 2 )]

[node name="ScoreUI" parent="PlayScreen/HUD" instance=ExtResource( 15 )]

[node name="PowerupUI" parent="PlayScreen/HUD" instance=ExtResource( 20 )]

[node name="VegetableSpawnTopLeft" type="Position2D" parent="PlayScreen"]
position = Vector2( 504, 464 )

[node name="VegetableSpawnBottomRight" type="Position2D" parent="PlayScreen"]
position = Vector2( 3286, 2732 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
pause_mode = 2
stream = ExtResource( 14 )
autoplay = true

[connection signal="open_settings" from="Menus/MainMenu" to="." method="_on_MainMenu_open_settings"]
[connection signal="start_game" from="Menus/MainMenu" to="." method="_on_MainMenu_start_game"]
[connection signal="restart_game" from="Menus/GameOver" to="." method="_on_GameOver_restart_game"]
[connection signal="close_settings" from="Menus/Settings" to="." method="_on_Settings_close_settings"]
[connection signal="open_settings" from="Menus/Settings" to="." method="_on_Settings_open_settings"]
[connection signal="volume_changed" from="Menus/Settings" to="." method="_on_Settings_volume_changed"]
[connection signal="intro_ended" from="Menus/Intro" to="." method="_on_Intro_intro_ended"]
[connection signal="no_lives" from="PlayScreen/Den" to="." method="_on_Den_no_lives"]
[connection signal="timeout" from="PlayScreen/VegetableSpawnTimer" to="." method="_on_VegetableSpawnTimer_timeout"]
